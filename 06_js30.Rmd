#JS30 
These are my notes from Wes Bos's free Javscript 30 [course](https://javascript30.com/)

## Drumkit 

### Center div within div 
We need to add text-align: center to the parent div to center text horizontally.  Then in the child div elements we add top 50% and position relative to center them vertically.  

```
.parent-div {
  text-align: center;
}

.child-div {
  top: 50%; 
  position: relative; 
}
```

### document.querySelectorAll
**Add a class to a div on keypress:**
This method returns a NodeList element so it's necessary to use indexing to find the one we want.  This is usually [0] if we're using data attributes to search. Here we use querySelectorAll method to find the div where we set the data attribute `data-key` equal to the `event.keyCode`

```{html, javascript}
<!DOCTYPE html>
<html>
<div class='key' id='key-1' data-key='65'><h2>A</h2><p class='key-p'>CLAP</p></div>
<script> 
window.addEventListener('keypress', function(event){
    console.log(event.keyCode);
    document.querySelectorAll(`[data-key='${event.keyCode}']`)[0].classList.add('key-press');
</script>
</html>
```

### Event Bubbling
When an event is triggered it will "bubble" up through its parent elements until it reaches the window. If it reaches any event handlers those will process if they match the event.  When we have multiple children we typically add an event handler to their parent element so we only need to write the code once. 

+ Example of event bubbling 

```{html}
<!DOCTYPE html>
<html>
    <head>
        <style type='text/css'>  
            .styling {
                display: table-cell;
                border: 1px solid black; 
                padding: 20px; 
                text-align: center; 
            }
        </style>
    </head>
    <body>
        <div class='styling' onclick='alert("DIV CLICKED")'>Div element
            <span class='styling' onclick='alert("Span clicked")'>Span element
                <input type='button' class='styling' value='Click me!' onclick='alert("button clicked")'>
            </span>
        </div>
    </body>
</html>
```

#### 'this' in event bubbling
`this` refers to the current element to which the event is bubbled. 

+ Example using `this` in event bubbling.  Not a great example because of the for loop.  

```
<!DOCTYPE html>
<html>
    <head>
        <style type='text/css'>  
            .styling {
                display: table-cell;
                border: 1px solid black; 
                padding: 20px; 
                text-align: center; 
            }
        </style>
    </head>
    <body>
        <div id='div1' class='styling' onclick="changeBorder()">div1
            <div id='div2' class='styling' onclick ="changeBorder()">div2
                <div id='div3' class='styling'>div3</div>
            </div>
        </div>
    </body>
    <script>
        let divElements = document.getElementsByTagName('div');
        for (let i =0; i < divElements.length; i++) {
            divElements[i].onclick = function() {
                this.style.border = '3px solid pink';
                alert(this.getAttribute('id') + 'color changed');
            };
        }
        
    </script>
</html>
```

#### Stop event bubbling
In IE8 and earlier versions we use `event.cancelBubble = true`, with all other browsers we use `event.stopPropogation()`

### Transition end event 
Similar to a click event - when an element transitions it fires off a transition end event that says "I'm finished transitioning".  In this case elements are scaling up by 1.1 and making the border larger.  Each CSS property that transitions records its own event (there will likely be lots of transition events in adding / removing a class).

+ In this example: this is always equal to what got called against it - in this case "addEventListener" was called against key --> so this = key

```
const keys = document.querySelectorAll('.key');
// loop over the NodeList to add event listeners
keys.forEach(key => key.addEventListener('transitionend', removeTransition));

function removeTransition(e) {
    console.log(e); 
    // this shows a ton of events - one for each property
    if (e.propertyName !== 'transform') return; // skip the event 
    console.log(this); // see what this is 
    // this is always equal to what got called against it - in this case "addEventListener" was called against key --> so this = key.
};
```

<hr>

## JS Clock

### Center div using translate
The translate() CSS function repositions an element in the horizontal and/or vertical directions. In this example we transform it by subtracting 50% of it's width from the X-direction.  Thus - left: 50% and transform(-50%) center it horizontally.  The same is true vertically.  

```{html}
<!DOCTYPE html>
<html>
    <head>
        <style>
            .centered-div {
                background-color: black;
                position: absolute;
                height: 500px;
                width: 350px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        </style>
    </head>
    <body>
        <div class='centered-div'></div>
    </body>
</html>
```

### Center div using flexbox

```
body {
    display: flex;
    min-height: 100vh;
    align-items: center;
}

.clock {
    margin: auto;
}
```

<hr>

## CSS Variables 

### slider input 
The following code generates a slider input button. We can also set `min` and `max` attributse on the slider. 
```
<input type='range' min='10' max='200' value='10'>
```

### Access data attributes 
We can access data attributes using an event listener.  Upon an event we can console log: `this.dataset`.  This will return a data object of all properties that are prefixed with the `data-` attribute.  
```
<input type='range' min='0' max='100' value='50' data-sizing='px'>
<script>
const input = document.querySelector('input'); 
input.addEventListener('change', function(event) {
  console.log(this.dataset);
})
</script>
```

## Array Cardio 1 

### sort
The `sort` method sorts an array based on the values the callback function calculates.  If we use (a, b) => return a - b, and the first two elements of an array are 40 and 100, then it will return -60, a negative value, so it will sort 40 lower than 100.


### reduce
The first two input values to reduce are to total and currentValue. I was thinking of it too often as index elements 0 and 1, then 0+1, and 2, etc.  The first iteration of this is actually the unitialized variable "total" and index element 0.  We here set the initial value of total to zero.  
```
const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];
    let numCars6 = data.reduce((total, currentValue) => total + (currentValue === 'car' ? 1 : 0), initialValue = 0);
```
We can also use an object as a way to keep track of multiple fields when using reduce instead of an integer. Here we set the intial value to an empty object, initialize an obj[item] to 0 if it DNE to dynmically populate the object, then increment the count.
```
const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];
let counts = data.reduce(function(obj, item) {
  if (!obj[item]) {
    obj[item] = 0;
  }
  obj[item] ++;
  return obj;
}, {})
```

### console.table
This function outputs objects in a stylized table - makes it really easy to read.  

### map 
Good way to conceptualize map is like a factory machine. It will put a stamp on each item -> or take in X items, do something to them, and return the same amount of items.   

### Turn a NodeList into an Array
We can't use some methods on nodeLists - like map. It's better to turn then into arrays.  We can either wrap a NodeList in `Array.from()`, or enclose it in brackets and use the spread operator. 

<br>

## Flex Panels
This project uses alot of nested flexboxes.  The 5 panels are on flexbox with items centered and content center-justified.  Next the 3 paragraph elements in each panel are a flex grid.  Items are centered and we used flex: 1 to get each of them to take up 1/3 of the space.  Finally each of the paragraph elements are flex boxes with items centered to get the text inside of the paragraphs evenly centered.  

### Combinators 

A CSS selector can contain more than one simple selector. Between the simple selectors, we can include a combinator.

There are four different combinators in CSS3:

descendant selector (space)
child selector (>)
adjacent sibling selector (+)
general sibling selector (~)

This selects all direct child elements of `.panel` and applies margin: 0 to them
```
.panel > * {
    margin: 0;
}
```

### box-shadow
box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);

### transition 
With the transition property you specify a property, time, and cubic bezier function to specify how a transition animation will play out.  When one of these properties is changed either by a class addition or JS these timing effects will apply.  
```
.panel {
transition:
  font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
  flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),
  background 0.2s;
}
```

### psuedo-classes
List of psuedo classes: https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes

### flex: 1
```
flex: 1; /* evenly distribute items among space */
```
